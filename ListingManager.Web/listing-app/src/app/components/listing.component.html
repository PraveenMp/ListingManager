<div>
    <h2>Listings</h2>
    <hr>
    <button class="btn btn-warning add-button" (click)="showForm=!showForm">Add Listings</button>

    <div class="form col-md-4" *ngIf="showForm">
        <form (ngSubmit)="onSubmit()" #agentForm="ngForm">
            <div class="form-group">
                <label for="listingname">Name</label>
                <input type="text" class="form-control" id="listingname" required [(ngModel)]="listing.ListingName" name="listingname" #listingname="ngModel">
                <div [hidden]="listingname.valid || listingname.pristine" class="alert alert-danger">
                    listing name is required
                </div>
            </div>
              <div class="form-group">
                <label for="listingaddress">Address</label>
                <input type="text" class="form-control" id="listingaddress" required [(ngModel)]="listing.ListingAddress" name="listingaddress" #listingaddress="ngModel">
                <div [hidden]="listingaddress.valid || listingaddress.pristine" class="alert alert-danger">
                    address is required
                </div>
            </div>
              <div class="form-group">
                <label for="agentName">Agent</label>
               <select id="agentName" class="form-control"  [(ngModel)]="listing.ListingAgentId" #agentname="ngModel" name="agentName" required>
                   <option>Test</option>
               </select>
                <!--<div [hidden]="agentName.valid || agentName.pristine" class="alert alert-danger">
                    agent name is required
                </div>-->
            </div>
            <button type="submit" class="btn btn-success" [disabled]="!listing.form.valid">Submit</button>
            <button type="submit" class="btn btn-default cust-pointer" (click)="cancel()">Cancel</button>
        </form>
    </div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Address</th>
                <th>Agent Name</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody *ngIf="!errorMessage">
            <tr *ngFor="let listing of listings">
                <th scope="row">{{listing.ListingId}}</th>
                <td>{{listing.ListingName}}</td>
                <td>{{listing.ListingAddress}}</td>
                <td>@{{listing.AgentName}}</td>
                <td><button class="btn btn-success">Edit</button> <button class="btn btn-danger">Delete</button> </td>
            </tr>
        </tbody>
    </table>
    <h3 *ngIf="errorMessage">No Listings Found</h3>
</div>